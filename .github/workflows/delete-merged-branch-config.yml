# This is a basic workflow to help you get started with Actions

name: Delete merged branch (after 1 week)

# Controls when the workflow will run
on:
  # Triggers the workflow on push or pull request events but only for the main branch
  pull_request:
    types: [closed]
    branches: [main]
  schedule:
    # * is a special character in YAML so you have to quote this string
    - cron:  '0 0 * * 0'
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  delete-branch:
    runs-on: ubuntu-latest
    steps:
      - name: delete branch
        uses: SvanBoxel/delete-merged-branch@main
        with:
          branches: "!main, !master, !production, *"
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
